(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{1:function(e,t,a){e.exports={themes__container:"ThemesLayout_themes__container__1g1ia",themes__description:"ThemesLayout_themes__description__275hT",themes__title:"ThemesLayout_themes__title__3B-zZ",themes__content:"ThemesLayout_themes__content__31cCo",themes__wrapper:"ThemesLayout_themes__wrapper__TeDwj",themes__item:"ThemesLayout_themes__item__981Fl",themes__button:"ThemesLayout_themes__button__2wtuA",button__title:"ThemesLayout_button__title__1-5mH",main:"ThemesLayout_main__2L3WB",gradient:"ThemesLayout_gradient__3A0O-",vine:"ThemesLayout_vine__XybaK",dark:"ThemesLayout_dark__17Fe4",purple:"ThemesLayout_purple__1XBwW",cherry:"ThemesLayout_cherry__3Tqi2",city:"ThemesLayout_city__yp4dP",mountains:"ThemesLayout_mountains__326Tf"}},11:function(e,t,a){e.exports={sidebar:"Sidebar_sidebar__5r4SV",sidebar__inner:"Sidebar_sidebar__inner__1cmI-",account__wrapper:"Sidebar_account__wrapper__1bmFn",sidebar__account:"Sidebar_sidebar__account__24ytf",account__img:"Sidebar_account__img___w38Q",exit__btn:"Sidebar_exit__btn__1fBkj",exit__img:"Sidebar_exit__img__mz9lw",sidebar__item:"Sidebar_sidebar__item__3TK64",toggle__menu:"Sidebar_toggle__menu__-j01V",burger:"Sidebar_burger__2AdVd",sidebar__mask:"Sidebar_sidebar__mask__12Fwp"}},12:function(e,t,a){e.exports={form:"FormAuth_form__OFnjb",input:"FormAuth_input__2y1EQ",buttons__wrapper:"FormAuth_buttons__wrapper__2Phmi",button:"FormAuth_button__NBA2j",sign__button:"FormAuth_sign__button__X4g23",facebook__login:"FormAuth_facebook__login__3Rxy8",google__login:"FormAuth_google__login__1ERn7",social__sign:"FormAuth_social__sign__3XLCS"}},14:function(e,t,a){e.exports={main__theme:"App_main__theme__3m4uM",gradient:"App_gradient__1FmQg",vine__theme:"App_vine__theme__1A0Wp",dark__theme:"App_dark__theme__2jqpE",purple__theme:"App_purple__theme__TTFt5",cherry__theme:"App_cherry__theme__3-QyW",city__theme:"App_city__theme__uU8kl",mountains__theme:"App_mountains__theme__2SLSE",container__inner:"App_container__inner__3sOy5"}},20:function(e,t,a){e.exports={form:"Form_form__2RXD3",input:"Form_input__1lq3M",button:"Form_button__35UXn"}},24:function(e,t,a){e.exports={container:"Temperature_container__17EL1",temp:"Temperature_temp__1dloU"}},39:function(e,t,a){e.exports={container:"Weather_container__eisQ9",temp:"Weather_temp__3LwUq"}},40:function(e,t,a){e.exports=a.p+"static/media/burger_icon.51e3480b.svg"},41:function(e,t,a){e.exports=a.p+"static/media/avatar.67de4802.jpg"},43:function(e,t,a){e.exports=a(73)},48:function(e,t,a){},50:function(e,t,a){e.exports=a.p+"static/media/exit.c1354932.svg"},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),o=a.n(c),s=(a(48),a(2)),i=a(14),m=a.n(i),l=Object(n.createContext)(),_=a(9),u=a.n(_),p=a(16),h=a(3),b=a(13),d=a.n(b),g=a(15),f=a(18),y=a(6),E=a(24),v=a.n(E),j=function(e){return r.a.createElement("div",null,e.city&&r.a.createElement("div",null,r.a.createElement("div",{className:v.a.container},r.a.createElement("div",{className:v.a.temp},e.temp,"\xb0\u0421"))))},O=a(20),k=a.n(O),S=function(e){var t=e.onSubmit;return r.a.createElement("form",{className:k.a.form,onSubmit:t},r.a.createElement("input",{className:k.a.input,type:"text",name:"city",placeholder:"City"}),r.a.createElement("button",{className:k.a.button},"Get weather"))},N=a(39),T=a.n(N),w=function(e){return r.a.createElement("div",{className:T.a.container},e.city&&r.a.createElement("div",null,r.a.createElement("p",null,"City: ",e.city),r.a.createElement("p",null,"Pressure: ",e.pressure," bar"),r.a.createElement("p",null,"Humidity: ",e.humidity," %"),r.a.createElement("p",null,"Sunset: ",e.sunset)),r.a.createElement("p",null,e.error))},x=a(11),C=a.n(x),A=a(40),L=a.n(A),F=a(41),I=a.n(F),M=(a(50),a(22)),P=a.n(M),W=a(23),D=a.n(W),B=[{to:"/",label:"Current weather",exact:!0},{to:"/themes",label:"Themes",exact:!1}],V=function(){var e=Object(n.useState)(-300),t=Object(y.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(0),s=Object(y.a)(o,2),i=s[0],m=s[1],l=Object(n.useState)("none"),_=Object(y.a)(l,2),u=_[0],h=_[1],b=Object(n.useState)(!1),d=Object(y.a)(b,2),g=(d[0],d[1],function(){a<0?(c(0),m(180),h("block")):(c(-300),m(0),h("none"))});Object(n.useEffect)((function(){c(-300),m(0),h("none")}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:C.a.sidebar__outer},r.a.createElement("div",{className:C.a.sidebar,style:{transform:"translatex(".concat(a,"px)")}},r.a.createElement("div",{className:C.a.sidebar__inner},r.a.createElement("div",{className:C.a.account__wrapper},r.a.createElement(p.b,{className:C.a.sidebar__account,to:"/auth"},r.a.createElement("img",{className:C.a.account__img,src:I.a,alt:"avatar"}))),B.map((function(e,t){return r.a.createElement(p.c,{className:C.a.sidebar__item,to:e.to,exact:e.exact,activeClassName:C.a.active,key:t},e.label)}))),r.a.createElement("button",{className:C.a.toggle__menu,onClick:function(){return g()}},r.a.createElement("img",{className:C.a.burger,src:L.a,alt:"burger",style:{transform:"rotatez(".concat(i,"deg)")}}))),r.a.createElement("div",{className:C.a.sidebar__mask,onClick:function(){return g()},style:{display:"".concat(u)}})))},R="ac86c246e29375c3c550bc572de71173",q=function(){var e=Object(n.useState)({temp:0,city:null,country:null,pressure:null,humidity:null,sunset:null,error:null}),t=Object(y.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,r,o,s,i,m,l,_;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n=t.target.elements.city.value)){e.next=13;break}return e.next=5,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(n,"&appid=").concat(R,"&units=metric"));case 5:return r=e.sent,e.next=8,r.json();case 8:o=e.sent,console.log(o),200===o.cod?(s=o.main.temp,i=Math.round(s),m=o.sys.sunset,(l=new Date).setTime(m),_=l.getHours()+":"+l.getMinutes()+":"+l.getSeconds(),c(Object(g.a)(Object(g.a)({},a),{},{temp:i,city:o.name,pressure:o.main.pressure,humidity:o.main.humidity,sunset:_}))):c(Object(g.a)(Object(g.a)({},a),{},{error:"City not found"})),e.next=14;break;case 13:c(Object(g.a)(Object(g.a)({},a),{},{error:"Please, input your city"}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition(function(){var e=Object(f.a)(d.a.mark((function e(t){var n,r,o,s,i,m,l,_,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.coords.latitude,r=t.coords.longitude,e.next=4,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(r,"&appid=").concat(R,"&units=metric"));case 4:return o=e.sent,e.next=7,o.json();case 7:s=e.sent,i=s.main.temp,m=Math.round(i),l=s.sys.sunset,(_=new Date).setTime(l),u=_.getHours()+":"+_.getMinutes()+":"+_.getSeconds(),c(Object(g.a)(Object(g.a)({},a),{},{temp:m,city:s.name,pressure:s.main.pressure,humidity:s.main.humidity,sunset:u}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement(j,a),r.a.createElement(S,{onSubmit:o}),r.a.createElement(w,a))},z=a(1),Q=a.n(z),X=function(){var e,t,a,c,o,i,m,_=Object(n.useContext)(l),p=_.setCityTheme,h=_.setMainTheme,b=_.setCherryTheme,d=_.setVineTheme,g=_.setDarkTheme,f=_.setPurpleTheme,y=_.setMountainsTheme,E=u()((e={},Object(s.a)(e,Q.a.themes__button,!0),Object(s.a)(e,Q.a.main,!0),e)),v=u()((t={},Object(s.a)(t,Q.a.themes__button,!0),Object(s.a)(t,Q.a.cherry,!0),t)),j=u()((a={},Object(s.a)(a,Q.a.themes__button,!0),Object(s.a)(a,Q.a.city,!0),a)),O=u()((c={},Object(s.a)(c,Q.a.themes__button,!0),Object(s.a)(c,Q.a.vine,!0),c)),k=u()((o={},Object(s.a)(o,Q.a.themes__button,!0),Object(s.a)(o,Q.a.dark,!0),o)),S=u()((i={},Object(s.a)(i,Q.a.themes__button,!0),Object(s.a)(i,Q.a.purple,!0),i)),N=u()((m={},Object(s.a)(m,Q.a.themes__button,!0),Object(s.a)(m,Q.a.mountains,!0),m));return r.a.createElement("div",{className:Q.a.themes__container},r.a.createElement("div",{className:Q.a.themes__description},r.a.createElement("div",{className:Q.a.themes__title},"Theme title"),r.a.createElement("div",{className:Q.a.themes__content},"We created for you beautyful different themes. You can choose one you like. Just click on that and it will be choosen. Your choise will be saved for the next session. Keep feeling beautiful!")),r.a.createElement("div",{className:Q.a.themes__wrapper},r.a.createElement("div",{className:Q.a.themes__item},r.a.createElement("button",{className:N,onClick:y},r.a.createElement("p",{className:Q.a.button__title},"Mountains Theme"))),r.a.createElement("div",{className:Q.a.themes__item},r.a.createElement("button",{className:j,onClick:p},r.a.createElement("p",{className:Q.a.button__title},"City Theme"))),r.a.createElement("div",{className:Q.a.themes__item},r.a.createElement("button",{className:E,onClick:h},r.a.createElement("p",{className:Q.a.button__title},"Main Theme"))),r.a.createElement("div",{className:Q.a.themes__item},r.a.createElement("button",{className:v,onClick:b},r.a.createElement("p",{className:Q.a.button__title},"Cherry Theme"))),r.a.createElement("div",{className:Q.a.themes__item},r.a.createElement("button",{className:O,onClick:d},r.a.createElement("p",{className:Q.a.button__title},"Vine Theme"))),r.a.createElement("div",{className:Q.a.themes__item},r.a.createElement("button",{className:k,onClick:g},r.a.createElement("p",{className:Q.a.button__title},"Dark Theme"))),r.a.createElement("div",{className:Q.a.themes__item},r.a.createElement("button",{className:S,onClick:f},r.a.createElement("p",{className:Q.a.button__title},"Purple Theme")))))},H=function(){return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement(V,null))},U=a(12),J=a.n(U),K=function(e){var t=Object(n.useState)(e),a=Object(y.a)(t,2),r=a[0],c=a[1];return{value:r,setValue:c,bind:{value:r,onChange:function(e){c(e.target.value)}}}},G=a(27),Y=a.n(G),Z=Object(h.g)((function(){var e=K(""),t=e.value,a=e.bind,c=K(""),o=c.value,s=c.bind,i=Object(n.useState)(!1),m=Object(y.a)(i,2),l=m[0],_=m[1],p="AIzaSyBAo3h0peJurzBzqfGPWx3eQRh79HxsV_A",b=function(){var e=Object(f.a)(d.a.mark((function e(a){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={email:t,password:o,returnSecureToken:!0},e.prev=2,e.next=5,Y.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(p),n);case 5:r=e.sent,c=r.data.registered,localStorage.setItem("isRegistered",l),_(c),console.log("Login success!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0,"status is ===",l);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(d.a.mark((function e(a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={email:t,password:o,returnSecureToken:!0},e.prev=2,e.next=5,Y.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(p),n);case 5:r=e.sent,console.log(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),E=localStorage.getItem("isRegistered");Object(n.useEffect)((function(){E?(console.log("true"),_(!0)):console.log("false")}),[]);var v=function(e){console.log(e)},j=u()(J.a.button,J.a.sign__button);return r.a.createElement("form",{className:J.a.form,onSubmit:b},r.a.createElement("input",Object.assign({className:J.a.input},a,{type:"email",name:"email",placeholder:"E-mail"})),r.a.createElement("input",Object.assign({className:J.a.input},s,{type:"password",name:"password",placeholder:"Password"})),r.a.createElement("div",{className:J.a.buttons__wrapper},r.a.createElement("button",{className:J.a.button},"Log In"),r.a.createElement("button",{className:j,onClick:g},"Sign In")),r.a.createElement("div",{className:J.a.social__sign},r.a.createElement(P.a,{className:J.a.google__login,clientId:"449993429352-7on6s5du4of30gucuis3lvs9mp8pct2b.apps.googleusercontent.com",buttonText:"Login",onClick:v,onSuccess:function(){_(!0),localStorage.setItem("isRegistered",!0)},onFailure:v,cookiePolicy:"single_host_origin",isSignedIn:!0}),r.a.createElement(D.a,{cssClass:J.a.facebook__login,appId:"3500138520005395",autoLoad:!1,fields:"name,email,picture",callback:function(e){console.log(e)},icon:"fa-facebook"})),l||E?r.a.createElement(h.a,{to:"/account"}):null)})),$=function(){return r.a.createElement("div",null,r.a.createElement(V,null),r.a.createElement(Z,null))},ee=function(){var e=Object(n.useState)("main"),t=Object(y.a)(e,2),a=t[0],r=t[1],c=function(){r("mountains"),localStorage.setItem("theme","mountains")};return Object(n.useEffect)((function(){!function(){var e=localStorage.getItem("theme");null===e?c():r(e)}()}),[]),{themeState:a,setMainTheme:function(){r("main"),localStorage.setItem("theme","main")},setCherryTheme:function(){r("cherry"),localStorage.setItem("theme","cherry")},setCityTheme:function(){r("city"),localStorage.setItem("theme","city")},setVineTheme:function(){r("vine"),localStorage.setItem("theme","vine")},setDarkTheme:function(){r("dark"),localStorage.setItem("theme","dark")},setPurpleTheme:function(){r("purple"),localStorage.setItem("theme","purple")},setMountainsTheme:c}};var te=function(){var e,t=ee();return r.a.createElement(l.Provider,{value:t},r.a.createElement("div",{className:u()((e={},Object(s.a)(e,m.a.main__theme,"main"===t.themeState),Object(s.a)(e,m.a.city__theme,"city"===t.themeState),Object(s.a)(e,m.a.cherry__theme,"cherry"===t.themeState),Object(s.a)(e,m.a.vine__theme,"vine"===t.themeState),Object(s.a)(e,m.a.dark__theme,"dark"===t.themeState),Object(s.a)(e,m.a.purple__theme,"purple"===t.themeState),Object(s.a)(e,m.a.mountains__theme,"mountains"===t.themeState),e))},r.a.createElement("div",{className:m.a.container__inner},r.a.createElement(p.a,{history:{}},r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",component:q,exact:!0}),r.a.createElement(h.b,{path:"/sidebar",component:V}),r.a.createElement(h.b,{path:"/themes",component:H}),r.a.createElement(h.b,{path:"/auth",component:$}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.8205eb93.chunk.js.map